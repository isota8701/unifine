




2023.01.19

idea is to drop and replace cdvae encoder to formula net
but since i think we need to predict 3d atom types and numbers and lattice
how about 2 encoders and z matching between 2, subset of contrastive learning perhaps



01.20
first implemented cdvae with formula encoder
but if loss backprop is done, the build graph makes error!
'''
assert block_inc == 0  # Implementing this is not worth the effort
RuntimeError: Boolean value of Tensor with more than one value is ambiguous
'''
first check cdvae loss for 3d gnn(dimenet encoder)
and then code contrastive learning and see loss decrease
between code contrastive learning and property prediction acc for only formula net
issue) contrastive with hiddens or mu or z check which is best

1.27
TODO
constrastive.py implementing
- need 3 version of formula net to compare
--issue, roost and gat conflicts because of edge attr define is different
--i might defined roost in the wrong way, otherwise my result say roost is similar to gat
- define contrastive loss, infoNCE, barlowtwins, vicreg
- see if formula net acc increases after pretraining
- merge the contrastive learning part with vae
